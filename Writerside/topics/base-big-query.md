# BigQuery基礎

data warehouseを提供する
集計得意

storageとcomputeが分離されている
SQLが渡されると、VMが複数台立ち上がって、データを取得し、集計して、結果を返す

カラム単位で取得できる

slot単位で計算 == VM
=> CPU + RUM + network

whereしても、全てのデータを取得してから、whereを実行する

## BI エンジン

普通はデータを都度取りに行く
でかいデータの場合には、
VMをあらかじめ立てておいて、データをcacheしておく
very hot
自分たちでテーブルを指定できる?それとも自動?
-> 自動でも、手動でもできる

自動の場合には容量のみ指定
データのcache更新はどうするのか？

## マテリアライズドビュー
viewの結果をテーブルに保存する
viewってなんだっけ？

master データが更新されると、マテリアライズビューも更新される

## パーティショニング・クラスタリング

### パーティショニング

パーティショニングを指定すると、データが分割される
whereした時に、選択的にscanすることができる
-> scanの数を減らすことができる(not all scan)

複数できるのか?

- 時間
- 整数列範囲(IDなど)

### クラスタリング

事前にソートする
コストが下げられる

パーティショニングと併用できる

追加の場合、コストはどうなるのか？

## 質問

- slotが立ち上がっていく条件は？
